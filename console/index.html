<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>MooTools</title>
<style type="text/css">
<!--
#code {
	width:100%;
	height:10.0em;
}
.title {
	font-size:10px;
}
#log,
#error {
	height:10.0em;
	overflow:auto;
	font-size:12px;
	border:1px solid #333;
	padding:2px;
}
#log p,
#error p {
	margin:0;
	padding:2px;
	border-bottom:1px solid #999;
}
#error {
	color:#F00;
}
-->
</style>
<script type="text/javascript" src="mootools-1.2.1-core.js"></script>
<script type="text/javascript" src="mootools-1.2.1-more.js"></script>
</head>

<body>
<textarea id="code"></textarea><br>
<button id="run">test</button>
<p class="title">console.log</p>
<div id="log"></div>
<p class="title">error</p>
<div id="error"></div>
<script type="text/javascript">
<!--

var Console = {
	log : function(arg) {
		var line = document.createElement('p');
		line.appendChild(document.createTextNode(arg.toString()));
		document.getElementById('log').appendChild(line);
	},
	error : function(arg) {
		var line = document.createElement('p');
		line.appendChild(document.createTextNode(arg.toString()));
		document.getElementById('error').appendChild(line);
	}
}

var decoded_code = "";

document.getElementById('run').onclick = function() {
	decoded_code = document.getElementById('code').value;
	var script = document.createElement('script');
	script.type = "text/javascript";
	var code = "try {eval(decoded_code)}catch(e){Console.error(e)\n}\n";
	script.innerHTML = code;
	document.body.appendChild(script);
	//decoded_code = "";
}
//-->
</script>
</body>
</html>
